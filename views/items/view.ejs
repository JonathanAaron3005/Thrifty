<% layout('layouts/boilerplate')%>
<style>
.zasize {
    width: 70%;
    margin-left: 15%;
}

.the-card {
    max-height: 100%;
    max-width: calc(100% / 4);

    padding: 0 8px 16px;
}

.card {
    aspect-ratio: 1/1.5;
    
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    text-decoration: none;
    border: 0;
}

@media (max-width: 720px) {
    .zasize {
        width: calc(100vw - 15px);
        margin-left: 0;
    }

    .the-card {
        max-width: calc(100% / 3);
    }
}

.card-title {
    color: black;

    line-height: 1.2;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;

    padding: 5% 5%;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.card-img-top {
    max-width: 100%;
    max-height: 100%;
    height: auto;
    object-fit: cover;
    aspect-ratio: 1/1;

    background-color: white;
}
</style>

<div class="d-flex flex-column" style="height: fit-content; min-height: calc(100% - 0px);">
    <h1 class="font-poppins" style="width: 100%; text-align: center;">All Items</h1>

    <div class="zasize" style="margin-bottom: 1rem; display: flex; flex-wrap: wrap;">
        <% for (let item of items) { for (i = 1; i <= 1; i++) {%>
            <div class="the-card">
                <a class="card" href="/item/<%=item._id%>">
                    <%if(item.images.length) {%>
                        <img class="card-img-top" alt="" src="<%=item.images[0].url%>">
                    <% }else {%>
                        <img class="card-img-top" alt="" src="https://plus.unsplash.com/premium_photo-1673458070037-8cc98a465c0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=455&q=80">
                    <% } %>
                    <h5 class="card-title font-poppins" id="dynamic-card-title-size"><%= item.name %></h5>
                </a>
            </div>
        <% }} %>
    </div>
</div>


